 /*quiz questions and answers*/

 const questions = [{
    question: "Which one of these is a dragon fruit? ",
    answers: [{
            image: "assets/images/q1/passionfruit.jpg",
            correct: false,
            text: 'Passion fruit',
        },
        {
            image: "assets/images/q1/dragonfruit.jpg",
            correct: true,
            text: 'Dragon fruit',
        },
        {
            image: "assets/images/q1/jackfruit.jpg",
            correct: false,
            text: 'Jackfruit',
        },
        {
            image: "assets/images/q1/rambutan.jpg",
            correct: false,
            text: 'Rambutan',
        },
    ]
},
{
    question: "Which of these is scotch bonnet?",
    answers: [{
            image: "assets/images/q2/BellPeppers.jpg",
            correct: false,
            text: 'Bell pepper',
        },
        {
            image: "assets/images/q2/scotchbonnet.jpg",
            correct: true,
            text: 'Scotch bonnet',
        },
        {
            image: "assets/images/q2/PadronPeppers.jpg",
            correct: false,
            text: 'Padron pepper',
        },
        {
            image: "assets/images/q2/romanopepper.jpg",
            correct: false,
            text: 'Romano pepper',
        },
        
    ]
},
{
    question: "Which of these is all spice?",
    answers: [{
            image: "assets/images/q3/allspice.jpg",
            correct: true,
            text: 'Allspice',
        },
        {
            image: "assets/images/q3/cinnamon.jpg",
            correct: false,
            text: 'Cinnamon',
        },
        {
            image: "assets/images/q3/clove.jpg",
            correct: false,
            text: 'Clove',
        },
      
        {
            image: "assets/images/q3/staranise.jpg",
            correct: false,
            text: 'Star anise',
        },
    ]
},
{
    question: "Which of these is mafalde?",
    answers: [{
            image: "assets/images/q4/paccherri.jpg",
            correct: false,
            text: 'Paccherri',
        },
        {
            image: "assets/images/q4/penne.jpg",
            correct: false,
            text: 'Penne',
        },
        {
            image: "assets/images/q4/ravioli.jpg",
            correct: false,
            text: 'Ravioli',
        },
      
        {
            image: "assets/images/q4/malfade.jpg",
            correct: true,
            text: 'Malfade',
        },
    ]
},
{
    question: "What is cornish yarg wrapped in?",
    answers: [{
            image: "assets/images/q5/binbag.jpg",
            correct: false,
            text: 'Bin bag',
        },
        {
            image: "assets/images/q5/dockleaf.jpg",
            correct: false,
            text: 'Dockleaf',
        },
        {
            image: "assets/images/q5/hemp.jpg",
            correct: false,
            text: 'Hemp',
        },
        {
            image: "assets/images/q5/nettles.jpg",
            correct: true,
            text: 'Nettles',
        },
      
    ]
},
{
    question: "Which one of these cut’s of meat is named ‘tomahawk’?",
    answers: [{
            image: "assets/images/q6/barnsleychop.jpg",
            correct: false,
            text: 'Barnsley chop',
        },
        {
            image: "assets/images/q6/tomahawk.jpg",
            correct: true,
            text: 'Tomahawk',
        },
        {
            image: "assets/images/q6/tbonesteak.jpg",
            correct: false,
            text: 'T-bone steak',
        },
        {
            image: "assets/images/q6/ossobucco.jpg",
            correct: false,
            text: 'Ossobucco',
        },
    ]
},
{
    question: "Which one of these flowers does saffron come from?",
    answers: [{
            image: "assets/images/q7/spiderlilly.jpg",
            correct: false,
            text: 'Spider lilly',
        },
        {
            image: "assets/images/q7/knapweed.jpg",
            correct: false,
            text: 'Knapweed',
        },
        {
            image: "assets/images/q7/allum.jpg",
            correct: false,
            text: 'Allum',
        },
        {
            image: "assets/images/q7/saffron.jpg",
            correct: true,
            text: 'Saffron',
        },
    ]
},

{
    question: "Which bean is miso made from?",
    answers: [{
            image: "assets/images/q8/borlottibean.jpg",
            correct: false,
            text: 'Borlotti bean',
        },
        {
            image: "assets/images/q8/jellybean.jpg",
            correct: false,
            text: 'Jelly bean',
        },
        {
            image: "assets/images/q8/kidneybean.jpg",
            correct: false,
            text: 'Kidney bean',
        },
        {
            image: "assets/images/q8/soyabean.jpg",
            correct: true,
            text: 'Soya bean',
        },
    ]
},
{
    question: "Which of these is a ‘tuber’?",
    answers: [{
            image: "assets/images/q9/aubergine.jpg",
            correct: false,
            text: 'Aubergine',
        },
        {
            image: "assets/images/q9/cucumber.jpg",
            correct: false,
            text: 'Cucumber',
        },
        {
            image: "assets/images/q9/potato.jpg",
            correct: true,
            text: 'Potato',
        },
        {
            image: "assets/images/q9/romanescocaul.jpg",
            correct: false,
            text: 'Romanesco Cauliflower',
        },
    ]
},
{
    question: "Which of these is a langoustine?",
    answers: [{
            image: "assets/images/q10/crab.jpg",
            correct: false,
            text: 'Crab',
        },
        {
            image: "assets/images/q10/crayfish.jpg",
            correct: false,
            text: 'Crayfish',
        },
        {
            image: "assets/images/q10/lango.jpg",
            correct: true,
            text: 'Langoustine',
        },
        {
            image: "assets/images/q10/spinylobster.jpg",
            correct: false,
            text: 'Spiny lobster',
        },
       
    ]
},
{
   question: "Which of these nuts are macadamia nuts?",
   answers: [{
           image: "assets/images/q11/brazilnut.jpg",
           correct: false,
           text: 'Brazil nut',
       },
       {
           image: "assets/images/q11/cashew.jpg",
           correct: false,
           text: 'Cashew',
       },
       {
           image: "assets/images/q11/hazelnut.jpg",
           correct: false,
           text: 'Hazelnut',
       },
       {
           image: "assets/images/q11/macadamia.jpg",
           correct: true,
           text: 'Macadamia',
       },
   ]

},
{
   question: "Which of these is tahini made from?",
   answers: [{
           image: "assets/images/q12/chia.jpg",
           correct: false,
           text: 'Chia seeds',
       },
       {
           image: "assets/images/q12/fregola.jpg",
           correct: false,
           text: 'Fregola',
       },
       {
           image: "assets/images/q12/linseeds.jpg",
           correct: false,
           text: 'Linseed',
       },
       {
           image: "assets/images/q12/sesame.jpg",
           correct: true,
           text: 'Sesame',
       },
   ]

},
{
   question: "What herb makes béarnaise?",
   answers: [{
           image: "assets/images/q13/parsley.jpg",
           correct: false,
           text: 'Parsley',
       },
       {
           image: "assets/images/q13/rosemary.jpg",
           correct: false,
           text: 'Rosemary'
       },
       {
           image: "assets/images/q13/sage.jpg",
           correct: false,
           text: 'Sage',
       },
       {
           image: "assets/images/q13/tarragon.jpg",
           correct: true,
           text: 'Tarragon',
       },
   ]  
},
{
   question: "Which flower blossom is apple?",
   answers: [{
           image: "assets/images/q14/apple.jpg",
           correct: true,
           text: 'Apple',
       },
       {
           image: "assets/images/q14/cherry.jpg",
           correct: false,
           text: 'Cherry',
       },
       {
           image: "assets/images/q14/orange.jpg",
           correct: false,
           text: 'Orange',
       },
       {
           image: "assets/images/q14/peach.jpg",
           correct: false,
           text: 'Peach',
       },
   ]  
},
{
   question: "Which of these does traditional black caviar comes from?",
   answers: [{
           image: "assets/images/q15/catfish.jpg",
           correct: false,
           text: 'Catfish',
       },
       {
           image: "assets/images/q15/monkfish.jpg",
           correct: false,
           text: 'Monkfish',
       },
       {
           image: "assets/images/q15/pufferfish.jpg",
           correct: false,
           text: 'Puffer fish',
       },
       {
           image: "assets/images/q15/sturgeon.jpg",
           correct: true,
           text: 'Sturgeon',
       },
   ] 
},
];
const questionElement = document.getElementById("question");
const answerButtons = document.getElementById("answer-buttons");
const nextButton = document.getElementById("next-btn");

let currentQuestionIndex = 0;
let currentQuestionNumber = 0;
let score = 0;
let randomQuizQuestions = [];

/* functions to start quiz, add next button and display next questions*/

function startQuiz() {
currentQuestionIndex = 0;
score = 0;
nextButton.innerHTML = "next";
randomQuizQuestions = questions.sort(() => 0.5 - Math.random()).slice(0, 10);
showQuestion();
}

function showQuestion() {
resetState();
let currentQuestion = randomQuizQuestions[currentQuestionIndex];
let questionNo = currentQuestionIndex + 1;
questionElement.innerHTML = questionNo + "." + currentQuestion.question;

currentQuestion.answers.forEach(answer => {
    const button = document.createElement("button");
    imageSrc = answer.image;
    if (answer.correct) {
        button.dataset.correct = answer.correct;
    }
    const buttonImage = document.createElement("img");
    buttonImage.src = imageSrc;
    buttonImage.alt = 'food';
    buttonImage.classList.add("answerImg");
    button.classList.add("btn");
    button.appendChild(buttonImage);
    const buttonText = document.createElement('span');
    buttonText.classList.add('text-answer');
    buttonText.textContent = answer.text;
    button.appendChild(buttonText);
    answerButtons.appendChild(button);
    buttonText.style.display = 'none';

    button.addEventListener("click", selectAnswer);
});
}

/* add function to display the answers as text when button is clicked*/

// //  function displayText() {
// //     var text = document.getElementById ("text")
// //     text.style.display = "block";
//  }

/* add functions to determine if answers are correct*/

function resetState() {
nextButton.style.display = "none";
while (answerButtons.firstChild) {
    answerButtons.removeChild(answerButtons.firstChild);
}
}

function selectAnswer(e) {
   const selectedBtn = e.target.parentNode;
   const isCorrect = selectedBtn.dataset.correct === "true";
   if (isCorrect) {
       selectedBtn.classList.add("correct");
       score++;
   } else {
       selectedBtn.classList.add("incorrect");
   }
   Array.from(answerButtons.children).forEach(button => {
       if (button.dataset.correct === "true") {
           button.classList.add("correct");
       }
       button.disabled = true;
   });

   const textAnswers = document.getElementsByClassName('text-answer');

   for (let index = 0; index < textAnswers.length; index++) {
       console.log(textAnswers[index].innerHTML);
       textAnswers[index].style.display = 'block';
   }
   nextButton.style.display = 'block';
}

/* function to display score at the end and button to start quiz again*/

function showScore() {
resetState();
questionElement.innerHTML = `you scored ${score} out of ${randomQuizQuestions.length}!`;
nextButton.innerHTML = "Play Again";
nextButton.style.display = "block";
}

function handleNextButton() {
currentQuestionNumber++;

currentQuestionIndex++;
if (currentQuestionIndex < 10) {  
    showQuestion();
} else {
    showScore();
}
}


nextButton.addEventListener("click", () => {
if (currentQuestionIndex < randomQuizQuestions.length) {
    handleNextButton();
} else {
    startQuiz();
}
});
startQuiz();